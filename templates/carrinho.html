{% load static %}
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrinho</title>
    <link rel="stylesheet" href="{% static 'assets/css/carrinho.css' %}">

    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="header-text">
                <h1>O Monolito</h1>
                <p>Um e-commerce digital desenvolvido pelos "Guris"</p>
            </div>
            <div class="header-buttons">
                <!-- Link interno para a listagem de produtos -->
                <a href="{% url 'core:products' %}" class="btn btn-secondary">Voltar para Produtos</a>
                <button id="logoutButton" class="btn btn-danger">Sair</button>
            </div>
        </div>
    </header>

    <!-- Body -->
    <main class="body-container">
        <div class="cart-container">
            <h2>Seu Carrinho</h2>

            <!-- Onde os itens serão renderizados via JS -->
            <div id="cart-items" class="cart-items">
                <!-- Produtos do carrinho serão adicionados dinamicamente aqui -->
            </div>

            <div class="cart-summary">
                <!-- Mantive o texto e criei um span com id cart-total para o JS ler o número -->
                <p id="total-price">Total: <span id="cart-total">R$ 0,00</span></p>

                <div class="cart-buttons">
                    <button id="clear-cart" class="btn btn-danger">Limpar Carrinho</button>

                    <a href="{% url 'core:products' %}" class="btn btn-secondary">Voltar para Produtos</a>

                    <!-- Botão que o JS usa para salvar o total no localStorage e redirecionar -->
                    <button
                      id="checkout"
                      class="btn btn-primary"
                      type="button"
                      data-payment-url="{% url 'core:pagamento' %}">
                      Ir para Pagamento
                    </button>
                </div>
            </div>
        </div>
    </main>

    <script src="{% static 'assets/js/config.js' %}"></script>
    <script src="{% static 'assets/js/carrinho.js' %}" type="module"></script>
    <script src="{% static 'assets/js/logout.js' %}"></script>
</body>
</html>
